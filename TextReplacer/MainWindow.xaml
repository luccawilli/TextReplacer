<Window x:Class="TextReplacer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TextReplacer"
        mc:Ignorable="d"
        TextOptions.TextRenderingMode="ClearType"
        TextOptions.TextFormattingMode="Ideal"
        RenderOptions.ClearTypeHint="Auto"
        RenderOptions.CachingHint="Cache"
        SnapsToDevicePixels="True"
        UseLayoutRounding="True"
        x:Name="MyControl"
        Title="Text Replacer" Height="800" MinHeight="800" Width="720" MinWidth="720" Icon="Replacer.ico">
    <Window.Resources>
        
        <!--<ResourceDictionary x:Key="SharedStyle">
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="SharedStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>-->

        <Geometry x:Key="DeleteGeometry">F1 M348.333,348.334z M0,0z M336.559,68.611L231.016,174.165 336.559,279.714C352.258,295.419 352.258,320.859 336.559,336.564 328.715,344.408 318.431,348.333 308.152,348.333 297.856,348.333 287.571,344.414 279.733,336.564L174.167,231.003 68.609,336.563C60.766,344.407 50.481,348.332 40.193,348.332 29.908,348.332 19.63,344.413 11.78,336.563 -3.919,320.865 -3.919,295.424 11.78,279.713L117.32,174.164 11.774,68.611C-3.925,52.912 -3.925,27.466 11.774,11.767 27.47,-3.92 52.901,-3.92 68.603,11.767L174.166,117.321 279.721,11.767C295.426,-3.92 320.86,-3.92 336.553,11.767 352.258,27.466 352.258,52.912 336.559,68.611z</Geometry>
        <DrawingGroup x:Key="DeleteDrawingGroup" ClipGeometry="M0,0 V348.334 H348.333 V0 H0 Z">
            <DrawingGroup.Transform>
                <TranslateTransform X="0.00024992227554321289" Y="0" />
            </DrawingGroup.Transform>
            <DrawingGroup Opacity="1">
                <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource DeleteGeometry}" />
            </DrawingGroup>
        </DrawingGroup>
        <DrawingImage x:Key="DeleteDrawingImage" Drawing="{StaticResource DeleteDrawingGroup}" />

        <Geometry x:Key="StartGeometry1">F1 M512.004,512.004z M0,0z M130.239,138.268L85.881,141.695C73.538,142.649,62.545,149.118,55.719,159.443L4.562,236.815C-0.614999999999995,244.645 -1.438,254.444 2.359,263.028 6.15700000000001,271.612 13.962,277.594 23.237,279.031L63.852,285.321C73.353,234.901,96.097,184.605,130.239,138.268z</Geometry>
        <Geometry x:Key="StartGeometry2">F1 M512.004,512.004z M0,0z M226.682,448.151L232.973,488.766C234.41,498.041 240.392,505.846 248.975,509.643 252.546,511.223 256.326,512.003 260.087,512.003 265.37,512.003 270.616,510.464 275.189,507.44L352.563,456.284C362.888,449.457,369.357,438.463,370.309,426.122L373.736,381.764C327.398,415.907,277.103,438.651,226.682,448.151z</Geometry>
        <Geometry x:Key="StartGeometry3">F1 M512.004,512.004z M0,0z M211.407,420C212.817,420 214.235,419.884 215.65,419.648 236.774,416.116 257.134,410.166 276.556,402.378L109.626,235.448C101.838,254.869 95.888,275.229 92.356,296.354 90.964,304.681 93.757,313.164 99.726,319.134L192.87,412.278C197.826,417.233,204.515,420,211.407,420z</Geometry>
        <Geometry x:Key="StartGeometry4">F1 M512.004,512.004z M0,0z M471.178,227.003C512.027,148.029 513.54,64.573 511.405,25.433 510.674,12.022 499.982,1.32999999999999 486.57,0.598999999999993 480.197,0.250999999999993 472.644,-6.88338275267597E-15 464.131,-6.88338275267597E-15 420.365,-6.88338275267597E-15 351.114,6.62899999999999 285,40.826 232.458,68.003 163.561,127.844 122.913,206.486 123.393,206.861 123.862,207.259 124.304,207.701L304.304,387.701C304.746,388.143 305.143,388.611 305.518,389.091 384.16,348.442 444.001,279.545 471.178,227.003z M297.698,108.24C326.939,78.999 374.52,78.996 403.763,108.24 417.929,122.405 425.73,141.24 425.73,161.273 425.73,181.306 417.929,200.141 403.763,214.306 389.144,228.925 369.934,236.236 350.731,236.238 331.522,236.239 312.321,228.929 297.698,214.306 283.532,200.141 275.73,181.306 275.73,161.273 275.73,141.24 283.532,122.405 297.698,108.24z</Geometry>
        <Geometry x:Key="StartGeometry5">F1 M512.004,512.004z M0,0z M318.911,193.092C336.456,210.637 365.006,210.638 382.551,193.092 391.05,184.592 395.731,173.292 395.731,161.272 395.731,149.252 391.05,137.952 382.551,129.453 373.779,120.68 362.255,116.294 350.731,116.294 339.208,116.294 327.684,120.68 318.912,129.453 310.413,137.952 305.731,149.252 305.731,161.272 305.731,173.292 310.412,184.593 318.911,193.092z</Geometry>
        <Geometry x:Key="StartGeometry6">F1 M512.004,512.004z M0,0z M15.305,421.938C19.144,421.938,22.983,420.474,25.911,417.544L74.884,368.571C80.742,362.713 80.742,353.216 74.884,347.358 69.027,341.5 59.529,341.5 53.671,347.358L4.698,396.331C-1.16,402.189 -1.16,411.686 4.698,417.544 7.627,420.473 11.466,421.938 15.305,421.938z</Geometry>
        <Geometry x:Key="StartGeometry7">F1 M512.004,512.004z M0,0z M119.765,392.239C113.908,386.381,104.41,386.381,98.552,392.239L4.39699999999999,486.394C-1.46100000000001,492.252 -1.46100000000001,501.749 4.39699999999999,507.607 7.32599999999999,510.536 11.165,512 15.004,512 18.843,512 22.682,510.536 25.61,507.606L119.764,413.452C125.623,407.594,125.623,398.097,119.765,392.239z</Geometry>
        <Geometry x:Key="StartGeometry8">F1 M512.004,512.004z M0,0z M143.432,437.12L94.46,486.093C88.602,491.951 88.602,501.448 94.46,507.306 97.389,510.235 101.228,511.7 105.066,511.7 108.904,511.7 112.744,510.236 115.672,507.306L164.645,458.333C170.503,452.475 170.503,442.978 164.645,437.12 158.788,431.262 149.29,431.262 143.432,437.12z</Geometry>
        <DrawingGroup x:Key="StartDrawingGroup" ClipGeometry="M0,0 V512.004 H512.004 V0 H0 Z">
            <DrawingGroup.Transform>
                <TranslateTransform X="0.00024964153999462724" Y="6.8833827526759706E-15" />
            </DrawingGroup.Transform>
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry1}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry2}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry3}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry4}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry5}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry6}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry7}" />
            <GeometryDrawing Brush="#FFFF" Geometry="{StaticResource StartGeometry8}" />
        </DrawingGroup>
        <DrawingImage x:Key="StartDrawingImage" Drawing="{StaticResource StartDrawingGroup}" />

        <Style TargetType="{x:Type Button}" x:Key="SecondaryButton">
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="4,4,4,4"
                        BorderThickness="1" BorderBrush="LightGray" Background="{TemplateBinding Background}" Padding="6">
                            <ContentPresenter x:Name="contentPresenter" 
                                      ContentTemplate="{TemplateBinding ContentTemplate}" 
                                      Content="{TemplateBinding Content}" 
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      Margin="{TemplateBinding Padding}" 
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E6E6E6"></Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style TargetType="{x:Type Button}" x:Key="TransparentButton">
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter x:Name="contentPresenter" 
                                      ContentTemplate="{TemplateBinding ContentTemplate}" 
                                      Content="{TemplateBinding Content}" 
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      Margin="{TemplateBinding Padding}" 
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E6E6E6"></Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="{x:Type Button}" x:Key="PrimaryButtonWithIcon">
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Background" Value="#7C00E8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="4,4,4,4"
                        BorderThickness="1" BorderBrush="LightGray" Background="{TemplateBinding Background}" Padding="6">
                            <DockPanel>
                                <Image Source="{StaticResource StartDrawingImage}" Width="15" Margin="5,0,0,0" />
                                <ContentPresenter x:Name="contentPresenter" 
                                      ContentTemplate="{TemplateBinding ContentTemplate}" 
                                      Content="{TemplateBinding Content}" 
                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                      Margin="{TemplateBinding Padding}" 
                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                            </DockPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#6E00CF"></Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="{x:Type TextBox}">
            <Setter Property="BorderThickness" Value="1" />
            <Style.Resources>
                <Style TargetType="{x:Type Border}">
                    <Setter Property="CornerRadius" Value="4" />
                </Style>
            </Style.Resources>
        </Style>
        
        <Style TargetType="{x:Type TextBlock}" x:Key="Titles">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="Gray"/>
            <Setter Property="FontWeight" Value="Regular"/>
        </Style>

        <Style TargetType="{x:Type ContentControl}" x:Key="MaterialGroup">
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect 
                    BlurRadius="5" 
                    ShadowDepth="1" 
                    Direction="270" 
                    Opacity="0.42" 
                    RenderingBias="Performance" 
                    Color="#AA000000" />
                </Setter.Value>
            </Setter>
            <Setter Property="Margin">
                <Setter.Value>10</Setter.Value>
            </Setter>
            <Setter Property="Padding">
                <Setter.Value>16</Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="60"/>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="2"/>
            <RowDefinition Height="3*"/>
        </Grid.RowDefinitions>

        <ListView Grid.Row="0" ItemsSource="{Binding InfoMessages, ElementName=MyControl}" BorderThickness="0" Focusable="False">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border BorderThickness="1" CornerRadius="4" HorizontalAlignment="Stretch" Margin="10,5,10,5" Background="{Binding Brush}" Padding="8,5,8,5" Height="30">
                        <DockPanel>
                            <TextBlock Text="{Binding Message}" Foreground="White" TextWrapping="Wrap" />
                            <Button Click="HandleDeleteMessageClick" Background="Transparent" HorizontalAlignment="Right" BorderThickness="0" Style="{StaticResource TransparentButton}">
                                <Image Source="{StaticResource DeleteDrawingImage}" Width="10"/>
                            </Button>
                        </DockPanel>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
            <ListView.ItemContainerStyle>
                <Style TargetType="{x:Type ListViewItem}">
                    <Setter Property="Background" Value="Transparent" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                <ContentPresenter />
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>

        <DockPanel Grid.Row="1" HorizontalAlignment="Stretch">
            <Border CornerRadius="4" HorizontalAlignment="Stretch" Margin="10,0,10,0">
                <TextBlock x:Name="StatusText" Text="Status: Alles okay" FontWeight="SemiBold" Margin="10" Height="20"/>
            </Border>
            <DockPanel HorizontalAlignment="Right">
                <Button x:Name="ClearButton" Content="Clear" Margin="10" Click="HandleClearButtonClick"  Width="80" Style="{StaticResource SecondaryButton}"/>
                <Button x:Name="StartButton" Content="Start" Margin="10" Click="HandleStartButtonClicked" Width="80" HorizontalAlignment="Right" Style="{StaticResource PrimaryButtonWithIcon}"/>
            </DockPanel>
        </DockPanel>

        <ContentControl Grid.Row="2" Style="{StaticResource MaterialGroup}">
            <Grid Background="White">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <DockPanel Grid.Column="0" LastChildFill="True">
                    <TextBlock DockPanel.Dock="Top" Text="Vorgabetext (Template)" HorizontalAlignment="Left" Margin="10,10,10,0" Height="20" Style="{StaticResource Titles}"/>
                    <TextBox x:Name="TemplateText" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  AcceptsReturn="True" Margin="10,5,10,10" TextWrapping="Wrap" Height="Auto" Text="" />
                </DockPanel>

                <DockPanel Grid.Column="1" LastChildFill="True">
                    <TextBlock DockPanel.Dock="Top" Text="Trennzeichen" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10,10,0" Height="20" Style="{StaticResource Titles}"/>
                    <TextBox DockPanel.Dock="Top" x:Name="SplitCharsForLabels" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,5,10,10" Text="\r\n" Height="25" Width="30"/>

                    <TextBlock DockPanel.Dock="Top" Text="Ersetzungszeichen" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10,10,10,0" Height="20" Style="{StaticResource Titles}"/>
                    <TextBox DockPanel.Dock="Top" x:Name="ReplacementCharacters" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="10,5,10,10" Text="{Binding ReplacementChars, ElementName=MyControl}" Height="25"  />

                    <TextBlock DockPanel.Dock="Top" Text="Einzufügende Labels" TextWrapping="Wrap" HorizontalAlignment="Left" Margin="10,10,10,0" Height="20" Style="{StaticResource Titles}"/>
                    <TextBox x:Name="ToInsertLabels"  Margin="10,5,10,10" TextWrapping="Wrap" AcceptsReturn="True" Text="" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
                </DockPanel>
            </Grid>
        </ContentControl>

        <GridSplitter Grid.Row="3" Height="2" HorizontalAlignment="Stretch" />

        <ContentControl Grid.Row="4" Style="{StaticResource MaterialGroup}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
            <DockPanel Background="White">
                <TextBlock DockPanel.Dock="Top" Text="Output" Height="20"  Margin="15,15,15,0" Style="{StaticResource Titles}"/>
                <TextBox x:Name="ResultView" TextWrapping="Wrap" Text="" Margin="15,0,15,15" IsReadOnly="True" IsReadOnlyCaretVisible="True" BorderThickness="0"/>
            </DockPanel>
        </ContentControl>
    </Grid>
</Window>
